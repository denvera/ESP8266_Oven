<html>
    <head>
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        <script type="text/javascript">
                  google.charts.load('current', {'packages':['corechart']});      
				  google.charts.setOnLoadCallback(drawChart);      
				  function drawChart() {        
				  fetch('http://192.168.0.47/temps').then((resp) => resp.json()).then(function(jsonData) {
					console.log(JSON.stringify(jsonData));
					var data = new google.visualization.DataTable();
					data.addColumn('datetime', 'Time');        
					data.addColumn('number', 'Temp \xB0C');
					data.addColumn('number', 'Set Temp \xB0C');
					data.addColumn({type: 'boolean', role: 'certainty' })
					var chart_data  = jsonData['temps'].map(function(e) { return [new Date(e[0]), e[1], e[2], (e[3] > 0) ? true : false ] });
					data.addRows(chart_data);
					var series = { 0: { }, 1: { color: 'blue', curveType: 'none',  }  };
					var options = {'title':'Oven Temperature', colors: ['red'], pointsVisible: false, curveType: 'function', legend: { position: 'bottom' }, series: series };        					
					var chart = new google.visualization.LineChart(document.getElementById('temps'));
					chart.draw(data, options);
					});				  
				  };    
        </script>
        <title>ESP8266 Oven Controller</title>
        <style>
            body {
                font-family: Arial, Helvetica, Sans-Serif;
            }
        </style>
    </head>
    <body>
        <div id="temps"></div>
		<p align='center'>Uptime: 13:37:00</p>
    </body>
</html>
